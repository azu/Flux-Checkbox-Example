{"version":3,"sources":["webpack:///./index.js","webpack:///../lib/stores/app-stores.js","webpack:///../lib/actions/app-actions.js","webpack:///../lib/constants/app-constants.js","webpack:///../lib/dispatchers/app-dispatchers.js"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA,EAAC,E;;;;;;;;;;AC7BD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,EAAC;;AAED;AACA,iCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,2B;;;;;;;;;;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,MAAK;AACL;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;;AAEA,6B;;;;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,EAAC;;AAED,gC","sourcesContent":["/**\n * Created by azu on 2014/10/25.\n * LICENSE : MIT\n */\n\"use strict\";\nvar Vue = require(\"vue\");\nvar AppStore = require(\"../lib/stores/app-stores\");\nvar AppAction = require(\"../lib/actions/app-actions\");\nvar vue = new Vue({\n    el: '#js-main',\n    data: {\n        users: AppStore.getUsers(),\n        clicked: function (index) {\n            AppAction.updateUser(index);\n        },\n        addUser: function () {\n            AppAction.addUser({\n                name: \"tester\",\n                notify: false\n            })\n        }\n    }\n});\n\nfunction onChange(users) {\n    vue.$set(users, users);\n}\nAppStore.addChangeListener(function () {\n    onChange(AppStore.getUsers());\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./index.js\n ** module id = 0\n ** module chunks = 0\n **/","/**\n * Created by azu on 2014/10/25.\n * LICENSE : MIT\n */\n\"use strict\";\n\nvar AppConstants = require(\"../constants/app-constants\");\nvar AppDispatcher = require(\"../dispatchers/app-dispatchers\");\nvar EventEmitter = require(\"events\").EventEmitter;\nvar merge = require('react/lib/merge');\nvar CHANGE_EVENT = \"change\";\n\nvar _users = [\n    {\n        id: 0,\n        name: \"Tom\",\n        notify: false\n    }\n];\n\nfunction updateUser(index) {\n    var user = _users[index];\n    user.notify = !user.notify;\n}\nfunction addUser(user) {\n    user.id = _users.length;\n    _users.push(user);\n}\n\nvar AppStore = merge(EventEmitter.prototype, {\n    emitChange: function () {\n        this.emit(CHANGE_EVENT)\n    },\n\n    addChangeListener: function (callback) {\n        this.on(CHANGE_EVENT, callback)\n    },\n\n    removeChangeListener: function (callback) {\n        this.removeListener(CHANGE_EVENT, callback)\n    },\n\n    getUsers: function () {\n        return _users;\n    }\n});\n\nAppDispatcher.register(function (payload) {\n    var action = payload.action; // this is our action from handleViewAction\n    switch (action.actionType) {\n        case AppConstants.UPDATE_USER:\n            updateUser(payload.action.index);\n            break;\n        case AppConstants.ADD_USER:\n            addUser(payload.action.user);\n            break;\n    }\n    AppStore.emitChange();\n    return true;\n});\nmodule.exports = AppStore;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/stores/app-stores.js\n ** module id = 13\n ** module chunks = 0\n **/","/**\n * Created by azu on 2014/10/25.\n * LICENSE : MIT\n */\n\"use strict\";\nvar AppConstants = require(\"../constants/app-constants\");\nvar AppDispatcher = require(\"../dispatchers/app-dispatchers\");\n\nvar AppActions = {\n    updateUser: function (index) {\n        AppDispatcher.handleViewAction({\n            actionType: AppConstants.UPDATE_USER,\n            index: index\n        });\n    },\n    addUser: function (user) {\n        AppDispatcher.handleViewAction({\n            actionType: AppConstants.ADD_USER,\n            user: user\n        });\n    }\n\n};\n\nmodule.exports = AppActions;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/actions/app-actions.js\n ** module id = 14\n ** module chunks = 0\n **/","/**\n * Created by azu on 2014/10/25.\n * LICENSE : MIT\n */\n\"use strict\";\nmodule.exports = {\n    ADD_USER: \"ADD_USER\",\n    UPDATE_USER: \"UPDATE_USER\"\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/constants/app-constants.js\n ** module id = 37\n ** module chunks = 0\n **/","\"use strict\";\nvar Dispatcher = require(\"flux\").Dispatcher;\nvar copyProperties = require('react/lib/copyProperties');\nvar AppDispatcher = copyProperties(new Dispatcher(), {\n    handleViewAction: function (action) {\n        console.log('action', action);\n        this.dispatch({\n            source: 'VIEW_ACTION',\n            action: action\n        })\n    }\n});\n\nmodule.exports = AppDispatcher;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../lib/dispatchers/app-dispatchers.js\n ** module id = 38\n ** module chunks = 0\n **/"],"sourceRoot":"","file":"bundle.js"}