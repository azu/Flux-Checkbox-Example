{"version":3,"sources":["webpack:///./index.js","webpack:///./lib/stores/app-stores.js","webpack:///./lib/components/app-view.js","webpack:///./lib/constants/app-constants.js","webpack:///./lib/dispatchers/app-dispatchers.js","webpack:///./lib/actions/app-actions.js"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,eAAe,4CAA4C,GAAG,2BAA2B,OAAO;AAC3H;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;;;;;ACvBD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,EAAC;;AAED;AACA,iCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,2B;;;;;;;;;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAsE,YAAY,SAAS,KAAK,YAAY,MAAM,GAAG,YAAY,GAAG,KAAK;AACzI;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,EAAC;AACD,gC;;;;;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,EAAC;;AAED,gC;;;;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA,6B","sourcesContent":["/**\n * Created by azu on 2014/10/25.\n * LICENSE : MIT\n */\n\"use strict\";\n// entry-point\nvar Ractive = require(\"ractive\");\nvar AppStore = require(\"./lib/stores/app-stores\");\nvar ractive = new Ractive({\n    el: \"js-main\",\n    template: \"<ul>\\n    {{#each users:i}}\\n        <li>\\n            <user index=\\\"{{i}}\\\"/>\\n        </li>\\n    {{/each}}\\n</ul>\",\n    data: {\n        users: AppStore.getUsers()\n    },\n    components: {\n        user: require(\"./lib/components/app-view\")\n    }\n});\nfunction onChange(users){\n    ractive.set(\"users\", users);\n}\nAppStore.addChangeListener(function(){\n    onChange(AppStore.getUsers());\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./index.js\n ** module id = 0\n ** module chunks = 0\n **/","/**\n * Created by azu on 2014/10/25.\n * LICENSE : MIT\n */\n\"use strict\";\n\nvar AppConstants = require(\"../constants/app-constants\");\nvar AppDispatcher = require(\"../dispatchers/app-dispatchers\");\nvar EventEmitter = require(\"events\").EventEmitter;\nvar merge = require('react/lib/merge');\nvar CHANGE_EVENT = \"change\";\n\nvar _users = [\n    {\n        id: 0,\n        name: \"Tom\",\n        notify: false\n    }\n];\n\nfunction updateUser(index) {\n    var user = _users[index];\n    user.notify = !user.notify;\n}\nvar AppStore = merge(EventEmitter.prototype, {\n    emitChange: function () {\n        this.emit(CHANGE_EVENT)\n    },\n\n    addChangeListener: function (callback) {\n        this.on(CHANGE_EVENT, callback)\n    },\n\n    removeChangeListener: function (callback) {\n        this.removeListener(CHANGE_EVENT, callback)\n    },\n\n    getUsers: function () {\n        return _users;\n    }\n});\n\nAppDispatcher.register(function (payload) {\n    var action = payload.action; // this is our action from handleViewAction\n    switch (action.actionType) {\n        case AppConstants.UPDATE_USER:\n            updateUser(payload.action.index);\n            break;\n    }\n    AppStore.emitChange();\n    return true;\n});\nmodule.exports = AppStore;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/stores/app-stores.js\n ** module id = 7\n ** module chunks = 0\n **/","/**\n * Created by azu on 2014/10/25.\n * LICENSE : MIT\n */\n\"use strict\";\nvar AppAction = require(\"../actions/app-actions\");\nvar templateString = \"<input type=\\\"checkbox\\\" on-click=\\\"clicked\\\" {{#if notify}}checked{{/if}}/> Notify {{name}} {{#if notify}}âœ”{{/if}}\";\nvar Ractive = require(\"ractive\");\nvar UserComponent = Ractive.extend({\n    template: templateString,\n    init: function () {\n        this.on('clicked', function (ev) {\n            AppAction.updateUser(this.get(\"index\"));\n        });\n    }\n});\nmodule.exports = UserComponent;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/components/app-view.js\n ** module id = 8\n ** module chunks = 0\n **/","/**\n * Created by azu on 2014/10/25.\n * LICENSE : MIT\n */\n\"use strict\";\nmodule.exports = {\n    UPDATE_USER: \"UPDATE_USER\"\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/constants/app-constants.js\n ** module id = 32\n ** module chunks = 0\n **/","\"use strict\";\nvar Dispatcher = require(\"flux\").Dispatcher;\nvar copyProperties = require('react/lib/copyProperties');\nvar AppDispatcher = copyProperties(new Dispatcher(), {\n    handleViewAction: function (action) {\n        console.log('action', action);\n        this.dispatch({\n            source: 'VIEW_ACTION',\n            action: action\n        })\n    }\n});\n\nmodule.exports = AppDispatcher;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/dispatchers/app-dispatchers.js\n ** module id = 33\n ** module chunks = 0\n **/","/**\n * Created by azu on 2014/10/25.\n * LICENSE : MIT\n */\n\"use strict\";\nvar AppConstants = require(\"../constants/app-constants\");\nvar AppDispatcher = require(\"../dispatchers/app-dispatchers\");\n\nvar AppActions = {\n    updateUser: function (index) {\n        AppDispatcher.handleViewAction({\n            actionType: AppConstants.UPDATE_USER,\n            index: index\n        });\n    }\n};\n\nmodule.exports = AppActions;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/actions/app-actions.js\n ** module id = 94\n ** module chunks = 0\n **/"],"sourceRoot":"","file":"bundle.js"}